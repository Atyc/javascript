<!DOCTYPE html>
<html>
<head>

	<title>JS</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

	<style type="text/css">
		#BrandApple, #BrandSamsung, #BrandNokia {
			display:none;
		}
	</style>

	<script type="text/javascript">

	    function getval(sel) {
			$("#kids").children().css("display", "none");
       		mybrand=sel.value;
       		$("#Brand"+mybrand).css("display", "initial");
       		document.getElementById('selval').innerHTML=mybrand;
    	}

    	function getcircle(sel) {
    		myval=sel.value;
    		document.getElementById('selval').innerHTML+=" "+myval;

    	}

    	function getw(sel) {
    		mywval=sel.value;
    		document.getElementById('wval').innerHTML=mywval;

    	}

    	function counter(elem, cap) {
    		thestring=elem.value;
    		lungime=thestring.length;
    		minuscap=cap-lungime;
       		if (minuscap<0) {
       			$myInput = $(elem);
				$myInput.val($myInput.val().slice(0, -1));
	   		}
	   		if (minuscap=="-1") minuscap="0";


    		document.getElementById('cnt').innerHTML=minuscap;
    		
    	}


		// $('#Brand').on('change', function() {
  // 			alert( this.value ); // or $(this).val()
		// });



	</script>



</head>
<body>
	<div>Selected value: <span id="selval"></span></div>
	<div>Written value: <span id="wval"></span></div>
	<form action="index.html" method="POST">
		<select name="Brand" id="Brand" onchange="getval(this);">
			<option value="none">---</option>
			<option value="Apple">Apple</option>
			<option value="Samsung">Samsung</option>
			<option value="Nokia">Nokia</option>
			<option value="Sony">Sony</option>
		</select>	
	<div id="kids">
		<select name="BrandApple" id="BrandApple">
			<option value="iPhone6">iPhone 6</option>
			<option value="iPhone5">iPhone 5</option>
			<option value="iPhone4">iPhone 4</option>
		</select>

		<select name="BrandSamsung" id="BrandSamsung">
			<option value="GalaxyS6">Galaxy s6</option>
			<option value="GalaxyS5">Galaxy s5</option>
			<option value="GalaxyS4">Galaxy s4</option>
		</select>

		<select name="BrandNokia" id="BrandNokia">
			<option value="Conn1">Conn 62</option>
			<option value="Conn2">Conn 52</option>
			<option value="Conn3">Conn 42</option>
		</select>
	</div>
	<div id="radios">
		<input type="radio" name="one" value="A" onchange="getcircle(one)">A<br>
		<input type="radio" name="one" value="B" onchange="getcircle(one)">B<br>
		<input type="radio" name="one" value="C" onchange="getcircle(one)">C<br>
		<input type="radio" name="one" value="D" onchange="getcircle(one)">D<br>
		<input type="radio" name="one" value="E" onchange="getcircle(one)">E

	</div>

	<input type="text" name="wr" id="wr" onKeyUp="getw(this)"><br><br>
	<input type="text" name="wr2" id="wr2" onKeyUp="counter(this, 10)">
	<span name="cnt" id="cnt">10</span>

	</form>

<br>
<br>
<br>
<p id="demo"></p>
<p id="demo2"></p>
<p id="demo3"></p>
<p id="demo4"></p>
<p id="demo5"></p>


<script>
var text = '{"name":"John Johnson","street":"Oslo West 16","phone":"555 1234567"}'

var obj = JSON.parse(text);

document.getElementById("demo").innerHTML =
obj.name + "<br>" +
obj.street + "<br>" +
obj.phone;

// --- easily change inside JSON///

var employees = [
    {
    "firstName":"John",
    "lastName":"Doe"
    }, 
    {
    "firstName":"Anna",
    "lastName":"Smith"
    },
    {
    "firstName":"Peter",
    "lastName":"Jones"
    },
];

employees[0].firstName="Gilbert";
document.getElementById("demo2").innerHTML =
employees[0].firstName + " " + employees[0].lastName;


// --- and a multi level JSON --//
var text = '{ "employees" : [' +
'{ "firstName":"John" , "lastName":"Doe" },' +
'{ "firstName":"Anna" , "lastName":"Smith" },' +
'{ "firstName":"Peter" , "lastName":"Jones" } ]}';

var obj = JSON.parse(text);

document.getElementById("demo3").innerHTML =
obj.employees[1].firstName + " " + obj.employees[1].lastName; 

//-- ANd some array demo --//
var myArray = [
{
"display": "JavaScript Tutorial",
"url": "http://www.w3schools.com/js/default.asp"
},
{
"display": "HTML Tutorial",
"url": "http://www.w3schools.com/html/default.asp"
},
{
"display": "CSS Tutorial",
"url": "http://www.w3schools.com/css/default.asp"
}
]

function myFunction(arr, place) {
    var out = "";
    var i;
    for(i = 0; i < arr.length; i++) {
        out += '<a href="' + arr[i].url + '">' + arr[i].display + '</a><br>';
    }
    document.getElementById(place).innerHTML = out;
}

myFunction(myArray, "demo4");


//--read JSON from external file --//
var xmlhttp = new XMLHttpRequest();
var url = "array.txt";

xmlhttp.onreadystatechange = function() {
if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
    var myArr = JSON.parse(xmlhttp.responseText);
    myFunction(myArr, "demo5");
    }
}

xmlhttp.open("GET", url, true);
xmlhttp.send();

</script>
</body>
</html>
